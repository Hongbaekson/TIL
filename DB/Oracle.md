# TIL

# MVCC

- Oracle DB는 MVCC(Multi-Version Concurrency Control)를 활용하여 동시성 문제를 효과적으로 관리합니다.

# 주요 특징

## 일관된 읽기

- MVCC는 각 트랜잭션이 시작된 시점의 데이터 스냅샷을 제공하여, 다른 트랜잭션에서 데이터가 변경되더라도 읽기 작업에는 영향을 주지 않습니다.
  예를 들어, 트랜잭션 A가 데이터를 읽기 시작하면, 그 시점의 데이터 상태를 기준으로 읽기를 수행하므로, 트랜잭션 B에서 업데이트가 발생해도 A는 자신이 시작한 시점의 데이터를 일관되게 볼 수 있습니다.

## UNDO 세그먼트를 통한 버전 관리

- Oracle은 데이터 변경 시 이전 버전의 데이터를 UNDO 영역에 저장합니다.
  이를 통해, 현재 변경 중인 데이터가 있다 하더라도, 다른 트랜잭션은 UNDO 데이터를 활용하여 일관된 스냅샷을 얻을 수 있습니다.

## 락 없이 읽기

- MVCC 덕분에 단순 읽기 작업에서는 명시적인 락을 걸지 않아도 되므로, 읽기 작업이 다른 DML(데이터 수정) 작업에 의해 블로킹되지 않습니다.

다만, 업데이트나 삭제와 같은 작업에서는 해당 행에 대해 행 수준의 락이 발생하여 데이터 무결성을 보장합니다.

## READ_COMMITTED 격리 수준과의 관계

Oracle의 READ_COMMITTED 격리 수준은 각 SQL 문이 시작될 때 최신 커밋된 데이터를 읽도록 보장합니다.
MVCC가 이 과정을 지원하여, 각 쿼리가 자신이 시작된 시점의 데이터 스냅샷을 사용하게 함으로써 Dirty Read를 방지하고, 동시성 제어를 원활하게 합니다.
